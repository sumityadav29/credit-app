{"version":3,"sources":["firebase.js","GoBack.js","Transfer.js","User.js","AllUsers.js","Transactions.js","HomePage.js","App.js","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","GoBack","_this","this","react_default","a","createElement","onClick","props","goBack","React","Component","Transfer","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","name","email","credits","state","value","usersList","handleChange","bind","assertThisInitialized","handleSubmit","event","setState","target","amount","transferCredit","uid","preventDefault","from_uid","to_uid","from_user","to_user","database","ref","once","dataSnaphot","users","val","Number","set","updateTransactions","push","from","to","_this2","on","dataSnapshot","_this3","Fragment","onSubmit","onChange","map","user","type","min","max","src_GoBack","User","snapshot","newState","src_Transfer","AllUsers","usersRef","item","src_User","page","Transactions","items","itemsRef","transfers","_loop","HomePage","src_AllUsers","src_Transactions","App","content","src_HomePage","handlePageRequest","handleGoingBack","history","concat","pop","className","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.896d41a1.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/database\"\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n    apiKey: \"AIzaSyBkOV24lMbrTIVbPE3KVlEPLxE-u5S80MA\",\n    authDomain: \"creditdb-r.firebaseapp.com\",\n    databaseURL: \"https://creditdb-r.firebaseio.com\",\n    projectId: \"creditdb-r\",\n    storageBucket: \"creditdb-r.appspot.com\",\n    messagingSenderId: \"46852241260\",\n    appId: \"1:46852241260:web:e7a954bec4864f2e\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\n  export default firebase;","import React from 'react';\n\nclass GoBack extends React.Component {\n    render() {\n        return (\n            <button\n            onClick = {() => {this.props.goBack()}}\n            >\n                Go Back\n            </button>\n        );\n    }\n}\n\nexport default GoBack;","import React from 'react';\nimport firebase from './firebase.js';\nimport GoBack from './GoBack.js';\n\nclass Transfer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.name = '';\n        this.email = '';\n        this.credits = '';\n        this.state = {\n            value: '-1',\n            usersList: [],\n        };\n    \n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    \n    handleChange(event) {\n        this.setState({\n            value: event.target.value,\n            usersList: this.state.usersList,\n        });\n    }\n    \n    handleSubmit(event) {\n        let amount = event.target[1].value;\n        this.transferCredit(amount, this.props.uid, this.state.value);\n        event.preventDefault();\n    }\n\n    transferCredit(amount, from_uid, to_uid) {\n        const usersRef = firebase.database().ref('users');\n        let from_user;\n        let to_user;\n\n        usersRef.once('value', (dataSnaphot) => {\n            const users = dataSnaphot.val();\n            from_user = {\n                name: users[from_uid].name,\n                email: users[from_uid].email,\n                credits: Number(users[from_uid].credits) - Number(amount),\n            };\n            to_user = {\n                name: users[to_uid].name,\n                email: users[to_uid].email,\n                credits: Number(users[to_uid].credits) + Number(amount),\n            };\n        });\n\n        firebase.database().ref('users/'+from_uid).set(from_user);\n        firebase.database().ref('users/'+to_uid).set(to_user);\n\n        this.updateTransactions(amount, from_uid, to_uid);\n    }\n\n    updateTransactions(amount, from_uid, to_uid){\n        const transfersRef = firebase.database().ref('transfers');\n        transfersRef.push(\n            {\n                from: from_uid,\n                to: to_uid,\n                credits: Number(amount),\n            }\n        );\n    }\n\n    componentDidMount() {\n        const usersRef = firebase.database().ref('users');\n        usersRef.on(\"value\", (dataSnapshot) => {\n            let users = dataSnapshot.val();\n            let usersList = [];\n            for (let uid in users) {\n                usersList.push({\n                    uid: uid,\n                    name: users[uid].name,\n                })\n            }\n            this.name = users[this.props.uid].name;\n            this.email = users[this.props.uid].email;\n            this.credits = users[this.props.uid].credits;\n            this.setState({\n                value: this.state.value,\n                usersList: usersList,\n            });\n        });\n    }\n    \n    render() {\n        return (\n            <>\n            <h1>{this.name}</h1>\n            <p>{this.email}</p>\n            <p>Credits : {this.credits}</p>\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                    Select User \n                <select value={this.state.value} onChange={this.handleChange}>\n                    <option value = '-1'>Select user to transfer to</option>\n                    {\n                        this.state.usersList.map((user) => {\n                            return (<option value = {user.uid}>{user.name}</option>);\n                            })\n                    }\n                </select>\n                </label>\n                <label>\n                    Amount\n                    <input type=\"number\" min=\"0\" max={this.credits}/>\n                </label>\n                <input type=\"submit\" value=\"Transfer\" />\n            </form>\n            <GoBack\n            goBack = {() => {this.props.goBack()}}\n            />\n            </>\n        );\n    }\n}\n\nexport default Transfer ;","import React from 'react';\nimport firebase from './firebase.js';\nimport GoBack from './GoBack.js';\nimport Transfer from './Transfer.js';\n\nclass User extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {user:\"\"};\n    }\n\n    componentDidMount(){\n        const usersRef = firebase.database().ref('users');\n        \n        usersRef.on(\"value\", (snapshot) => {\n          let users = snapshot.val();\n          let newState = {user: users[this.props.uid]};\n          this.setState(newState);\n        });\n    }\n\n    render(){\n        return(\n            <>\n            <h1>{this.state.user.name}</h1>\n            <p>{this.state.user.email}</p>\n            <p>Credits : {this.state.user.credits}</p>\n            <button \n            onClick = {() => {\n                                this.props.onClick(<Transfer\n                                                    uid = {this.props.uid}\n                                                    goBack = {() => this.props.goBack()}\n                                                    />\n                                                )\n                            }\n                    }\n            >\n                Transfer Credits\n            </button>\n            <GoBack\n            goBack = {() => {this.props.goBack()}}\n            />\n            </>\n        );\n    }\n}\n\nexport default User;","import firebase from './firebase.js';\nimport React from 'react';\nimport GoBack from './GoBack.js';\nimport User from './User.js'\n\nclass AllUsers extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n          users: [],\n        };\n      }\n    \n      componentDidMount() {\n        const usersRef = firebase.database().ref('users');\n        let newState = [];\n        usersRef.on(\"value\", (snapshot) => {\n          let users = snapshot.val();\n          for (let item in users) {\n            newState.push({\n              name : users[item].name,\n              email : users[item].email,\n              credits : users[item].credits,\n              uid : item,\n            });\n          }\n          this.setState({\n            users : newState,\n          });\n        });\n      }\n\n\n    render() {\n        return (\n            <>\n            <table>\n            <caption>All Users</caption>\n            <thead>\n              <td>Name</td>\n              <td>Email</td>\n              <td>Credits</td>\n              <td>View User</td>\n            </thead>\n            <tbody>\n            {\n              this.state.users.map((user) => {\n                return (\n                  <tr>\n                    <td>{user.name}</td>\n                    <td>{user.email}</td>\n                    <td>{user.credits}</td>\n                    <td>\n                      <button \n                      onClick = {\n                        () => {\n                          this.props.onClick(<User \n                                              uid = {user.uid} \n                                              goBack = {\n                                                () => {\n                                                  this.props.goBack()\n                                                }\n                                              }\n                                              onClick = {\n                                                (page) => {\n                                                  this.props.onClick(page)\n                                                }\n                                              }\n                                              />\n                                            )\n                          }\n                        }\n                        >\n                          View\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })\n              }\n              </tbody>\n            </table>\n            <GoBack\n            goBack = {() => {this.props.goBack()}}\n            />\n            </>\n          );\n      }\n  }\n\nexport default AllUsers;","import React from 'react';\nimport firebase from './firebase.js';\nimport GoBack from './GoBack.js';\n\nclass Transactions extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            items: [],\n        };\n    }\n\n    componentDidMount(){\n        const itemsRef = firebase.database().ref('transfers');\n        const usersRef = firebase.database().ref('users');\n        let newState = [];\n        itemsRef.on(\"value\", (snapshot) => {\n          let transfers = snapshot.val();\n          for (let item in transfers) {\n              let from;\n              let to;\n              usersRef.once(\"value\", (snapshot) => {\n                  let users = snapshot.val();\n                  from = users[transfers[item].from].name;\n                  to = users[transfers[item].to].name;\n                  newState.push({\n                    from: from,\n                    to: to,\n                    credits: transfers[item].credits,\n                  });\n                  this.setState({\n                    items : newState,\n                  });\n                });\n          }\n        });\n    }\n    render(){\n        return(\n            <>\n            <table>\n                <caption>All Transactions</caption>\n                <thead>\n                    <td>From</td>\n                    <td>To</td>\n                    <td>Credits</td>\n                </thead>\n                <tbody>\n                    {\n                        this.state.items.map((item) => {\n                            return (\n                                <tr>\n                                    <td>{item.from}</td>\n                                    <td>{item.to}</td>\n                                    <td>{item.credits}</td>\n                                </tr>\n                            );\n                        })\n                    }\n                </tbody>\n            </table>\n            <GoBack\n            goBack = {() => {this.props.goBack()}}\n            />\n            </>\n        );\n    }\n}\n\nexport default Transactions;","import React from 'react';\nimport AllUsers from './AllUsers.js';\nimport Transactions from './Transactions.js';\n\nclass HomePage extends React.Component {\n    render() {\n        return (\n            <>\n            <button \n            onClick = {() => this.props.onClick(<AllUsers \n                                                goBack = {() => {this.props.goBack()}}\n                                                onClick = {(page) => {this.props.onClick(page)}}\n                                                />)\n                        }\n            >\n                Show All Users\n            </button>\n            <button\n            onClick = {() => this.props.onClick(<Transactions \n                                                goBack = {() => {this.props.goBack()}} \n                                                />)\n                        }\n            >\n                Show All Transactions\n            </button>\n            </>\n        );\n    }\n}\n\nexport default HomePage;","import React from 'react';\nimport './App.css';\nimport HomePage from './HomePage.js';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content : <HomePage \n                onClick = {(page) => {this.handlePageRequest(page)}}\n                goBack = {() => {this.handleGoingBack()}}\n                />,\n      history: [],\n    }\n  }\n\n  handlePageRequest(page) {\n    this.setState({\n      content: page,\n      history: this.state.history.concat(this.state.content),\n    });\n  }\n\n  handleGoingBack(){\n    this.setState({\n      content: this.state.history.pop(),\n      history: this.state.history,\n    });\n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          Credit Management App\n        </header>\n        <main>\n          {this.state.content}\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}